{% extends 'blogs/base.html' %}
{% load bootstrap4 %}

{% block page_header %}
{% endblock page_header %}

{% block content %}
<div class="container">
    <div class="row">

      <!-- Dictioncary Section-->
      <div class="col-3">
        <!-- Dictionary form-->
        Mini Dictionary
        <form class="mt-1" method="post" action="{% url 'dictionaries:dictionary' post_pk %}">
          {% csrf_token %}
          {% bootstrap_form dict_form %}
          <button class="btn btn-primary btn-md" 
            type="submit" name="addWord" value="addWord">Save word</button>
        </form>
        <!-- End of dictionary form -->

        <!-- Show saved dictionaries section-->
        <ul>
          {% for dictionary in dictionaries %}
          <li class="nav-item"><a href="#id-{{dictionary.id}}" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="id-{{dictionary.id}}">{{dictionary}}</a></li>
          <!-- End of show saved dictionaries section-->

            <!-- Delete dictionary section-->
          <div>
            <ul>
              <li class="collapse" id="id-{{dictionary.id}}">{{dictionary.word_translation}}
                <form class="mt-2" action="{% url 'dictionaries:delete' blog_post.id dictionary.id %}" method="POST">
                  {% csrf_token %}
                <button class="btn btn-danger btn-sm" 
                type="submit" name="del" value="post">Delete</button>      
              </form>
              </li>
            </ul>
          </div>
          {% empty %}
          <p>No words were added</p>
          {% endfor %}
        </ul>
      </div>
      <!-- End of delete dictionary section-->
      <!-- End of Dictionary section-->

      <!-- Blog Post Section-->
      <div class="col-6">
        <h2>{{blog_post.title}}</h2>
        {{blog_post.text | safe}}
      </div>
      <!-- End of Blog Post section-->

      <!-- Translation section-->
      <!--Input section-->
      <div class="col-3">
        Google translate
        <form method="POST" action="{% url 'blogs:blog_post' post_pk %}">
          <div class="form-row mt-1">
            <div class="col">
          {% csrf_token %}
          {{trans_form.source_language}}
            </div>
            <div class="col">
              {{trans_form.target_language}}
            </div>
          </div>
          <div class="form-row">
            <div class="col">
          {{trans_form.input_langauge}}
            </div>
          </div>
          <button class="btn btn-primary btn-md" 
            type="submit" name="Translate" value="submit">Translate</button>
        </form>
        <!--End of input section-->

        <!--output section-->
        <div class="container border border-secondary rounded-lg mt-2 pt-0 pl-1 pr-2 pb-5">
          <div class="row pb-5">
            <div class="col pb-5">
              {{translation}}
            </div>
          </div>
        </div>
        <!--End of output section-->
        <!--End of translation section-->

      </div>
    </div>
  </div>
{% endblock content %}